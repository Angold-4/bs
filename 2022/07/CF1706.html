<!DOCTYPE html>
<html lang="en"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
    <title>Angold-4 Organization</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="../../../images/favicon.png" rel="icon">
<link rel="canonical" href=".">
        <meta name="author" content="Angold Wang" />

    <meta property="og:site_name" content="Angold-4" />
<!--     <meta property="og:type" content="article"/> -->
    <meta property="og:title" content="Angold-4 Organization"/>
    <meta property="og:url" content="."/>

    <!-- Bootstrap -->
        <link rel="stylesheet" href="../../../theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="../../../theme/css/font-awesome.min.css" rel="stylesheet">
<!--     <link href="https://cdnjs.cloudflare.com/ajax/libs/typicons/2.0.9/typicons.min.css" rel="stylesheet"> -->

    <link href="../../../theme/css/pygments/monokai.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../theme/css/style.css" type="text/css"/>

  <style>

    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }

    li {
      font-size: 20px;
    }

    p {
      font-size: 20px;
    }

    a {
      font-size: 20px;
    }

    k

    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }

    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }

    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
    {   }

    @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }

    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

</head>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<!-- <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script> -->

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://angold4.org" class="navbar-brand">
<img src="../../../images/logo.png" width="32"/> Angold4            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
			    <li><a href="../../../about.html">About</a>
                            <li><a href="../../../blogs.html">Blogs</a>
                            <li><a href="../../../projects.html">Projects</a>

	    </ul>
            <ul class="nav navbar-nav navbar-right">
                <li> <a title="Youtube" href="https://www.youtube.com/channel/UC3ZAjh2LHhm-FrgxgBtgMzQ" target="_new"><i class="fa fa-youtube"></i> Youtube</a>
		</li>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->


<div class="container">
    <div class="row">
        <div class="col-lg-12">
	<section id="content" class="body">
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#codeforces-round-809-div.2-tutorial"
id="toc-codeforces-round-809-div.2-tutorial">Codeforces Round #809
(Div.2) Tutorial</a>
<ul>
<li><a href="#a.-another-string-minimization-problem-greedy"
id="toc-a.-another-string-minimization-problem-greedy">1706A. Another
String Minimization Problem (Greedy)</a></li>
<li><a href="#b.-making-towers-dp-greedy"
id="toc-b.-making-towers-dp-greedy">1706B. Making Towers (DP,
Greedy)</a>
<ul>
<li><a href="#dp" id="toc-dp">1. DP</a></li>
<li><a href="#greedy" id="toc-greedy">2. Greedy</a></li>
</ul></li>
<li><a href="#c.-qpwoeirut-and-the-city-prefix-sum"
id="toc-c.-qpwoeirut-and-the-city-prefix-sum">1706C. Qpwoeirut And The
City (prefix sum)</a></li>
</ul></li>
</ul>
</nav>
<h1 id="codeforces-round-809-div.2-tutorial">Codeforces Round #809
(Div.2) Tutorial</h1>
<h2 id="a.-another-string-minimization-problem-greedy">1706A. Another
String Minimization Problem (Greedy)</h2>
<p>Let’s iterate through the elements of a. For convenience, we’ll make
ai = min(ai ,m+1−ai). If the ai-th character of s is not currently A,
then we should replace it. Otherwise, we replace the (m+1−ai)-th
character. <strong>“Smaller first, if smaller is taken, then replace the
bigger one”</strong>.</p>
<ul>
<li>My Solution: <strong><a
href="https://codeforces.com/contest/1706/submission/164751915">164751915</a></strong></li>
<li>Editorial Solution: <strong><a
href="https://codeforces.com/contest/1706/submission/164799099">164799099</a></strong></li>
</ul>
<h2 id="b.-making-towers-dp-greedy">1706B. Making Towers (DP,
Greedy)</h2>
<p>First of all, if we have two blocks of the same color at indices i
and j such that i &lt; j, how can we tell if it is possible to place
them at (xi, yi) and (xi, yi + 1) respectively?</p>
<p>As it turns out, they can be placed like this <strong>if and only if
i and j have different parities</strong>, (parity is the property of an
integer of whether it is even or odd). As you can imagine, if there are
odd number of colored blocks between i and j, then jth block can be
placed above ith.</p>
<h3 id="dp">1. DP</h3>
<p>The DP is quite a normal solution, but I didn’t come up with that
during the contest. Since there are only two parities (odd and even) or
colored blocks (their positions), we should only care about those
two.</p>
<ul>
<li>Here is the DP structure: <strong><code>dp[oe][c]</code> stands for
the maximum # of blocks building of color <code>c</code> of parity
<code>oe</code></strong>.</li>
<li>Here is the state-trans function:
<strong><code>dp[oe][c] = max(dp[oe][c], dp[eo][c] + 1)</code></strong>
(the <strong><code>eo</code></strong> means the oppsite of
<strong><code>oe</code></strong>).</li>
</ul>
<div class="sourceCode" id="cb1"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> x<span class="op">;</span> cin <span class="op">&gt;&gt;</span> x<span class="op">;</span> <span class="co">// x := current color</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    dp<span class="op">[</span>i <span class="op">&amp;</span> <span class="dv">1</span><span class="op">][</span>x<span class="op">]</span> <span class="op">=</span> max<span class="op">(</span>dp<span class="op">[</span>i <span class="op">&amp;</span> <span class="dv">1</span><span class="op">][</span>x<span class="op">],</span> dp<span class="op">[(</span>i <span class="op">^</span> <span class="dv">1</span><span class="op">)</span> <span class="op">&amp;</span> <span class="dv">1</span><span class="op">][</span>x<span class="op">]</span> <span class="op">+</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span></code></pre></div>
<p>In this problem, since in each iteration, we only can in one state:
<strong>odd/even parities</strong>. And notice that all these states are
predefined. <strong>So each action (pick/not pick this block will never
cause the state to be changed), and if the state will be changed, we
need to consider them independently (pick/not pick), just like we did in
<a href="https://codeforces.com/problemset/problem/698/A">698A.
Vacations</a></strong>.</p>
<p>This solution runs in linear time.</p>
<ul>
<li>My Solution: <strong><a
href="https://codeforces.com/contest/1706/submission/165298559">165298559</a></strong></li>
</ul>
<h3 id="greedy">2. Greedy</h3>
<p>Alternatively, there is a greedy solution. <strong>After selecting a
block, the next block selected must always have the opposite
parity.</strong></p>
<p>Imagine a sequencial scan of all the colored blocks: Let’s say the
red blocks stand for even, the white blocks stand for odd, if we use
greedy, the question will be: <strong>“will the greedily selection at
each position affect future selection, and make the answer not
optimal?”</strong></p>
<p>The answer should be no, if the first block is in even position
(red), and next is in odd position, if we greedily choose it, and then
we are in white state. If we do not choose it, and waiting for a
“better” position to choose it later, let’s say we meet another white
state, and we believe wait until here to choose it will lead a better
result, then after we choose it, in that white state, we are no
difference than choose that white earlier, and potentialy we lose some
“white to red” transaction between it.</p>
<figure>
<img src="Sources/greedy.png" alt="greedy" />
<figcaption aria-hidden="true">greedy</figcaption>
</figure>
<p>To sum up, <strong>it makes sense to greedily select the first block
of the same color with opposite parity, since it will never improve the
answer if we select a later block.</strong></p>
<ul>
<li>My Solution: <strong><a
href="https://codeforces.com/contest/1706/submission/165325194">165325194</a></strong></li>
</ul>
<h2 id="c.-qpwoeirut-and-the-city-prefix-sum">1706C. Qpwoeirut And The
City (prefix sum)</h2>
<p>This problem requires you to think about it before actually writing
some code. First, when N buildings in the city, there should have
maximum <strong><code>(N-1)/2</code></strong> cool buildings. There are
two cases:</p>
<ol type="1">
<li><p>For <strong>odd</strong> N, there is only one way to achieve the
maximum # of cool buildings, <strong>just need to find the total floors
necessary to make each of the alternating buildings (starting from the
2nd building) cool and that is the answer.</strong></p></li>
<li><p>For <strong>even</strong> N, to achieve the maximum # of cool
buildings, we should make only one choice, which means in only one
chance, we can “give up” the ith building (maybe it is too relatively
expensive to build) and then choose i+1.</p></li>
</ol>
<p>For the second case, since we can only make one choice, the states
are limited, we do not need to use dp: <strong>just consider each
possibilities:</strong></p>
<p>For example, in the 4th test case from the example in the problem
statement, the possible configurations of cool buildings are…</p>
<p>(light — normal (not cool) building, <strong>bold</strong> — cool
building)</p>
<ul>
<li><p>4 <strong>2</strong> 1 <strong>3</strong> 5 <strong>3</strong> 6
1</p></li>
<li><p>4 <strong>2</strong> 1 <strong>3</strong> 5 3 <strong>6</strong>
1</p></li>
<li><p>4 <strong>2</strong> 1 3 <strong>5</strong> 3 <strong>6</strong>
1</p></li>
<li><p>4 2 <strong>1</strong> 3 <strong>5</strong> 3 <strong>6</strong>
1</p></li>
<li><p>1st configuration: (5 - 2) + (6 - 3) + (7 - 3) = 10.</p></li>
<li><p>2nd configuration: 10 - (7 - 3) + (6 - 6) = 6.</p></li>
<li><p>3rd configuration: 6 - (6 - 3) + (5 - 5) = 3.</p></li>
<li><p>4th configuration: 3 - (5 - 2) + (4 - 1) = 3.</p></li>
</ul>
<p>For even n, the floors necessary for every configuration can also be
found in O(n) time using an alternating <strong>forward prefix sum
array</strong> and an alternating <strong>backward prefix sum
array</strong>.</p>
<ul>
<li>My Solution: <strong><a
href="https://codeforces.com/contest/1706/submission/165490020">165490020</a></strong></li>
</ul>
	</section>
	</div>
    </div>

<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
this.page.url = "https://angold4.org/bs/2022/07/CF1706.html"
this.page.identifier = "bs/2022/07/CF1706.html"

    };
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://angold.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>

<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</div>
<footer>
   <div class="well well-lg" id="footer-well">
      <div class="container">


      <div class="row">
         <div class="col-xs-6">
            <a href="https://angold4.org" title="Angold-4 Organization" class="image-link"><img src="../../../images/logo.png" class="cmudb-logo" /></a>
         </div>
         <div class="col-xs-6">
            <p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p>
        </div>
      </div>
   </div>
   </div>
</footer>
<!-- Include all compiled plugins (below), or include individual files as needed -->

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<script src="../../../theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="../../../theme/js/respond.min.js"></script>

<!-- Fix scrolling issues to internal HREFs that get positioned behind navbar -->
<!-- http://stackoverflow.com/questions/10732690/offsetting-an-html-anchor-to-adjust-for-fixed-header -->
<script src="../../../theme/js/href_scroll.js"></script>

<!-- You know what this is and you know what he did to me... -->
<script src="../../../theme/js/tim-kraska-betrayed-me.js"></script>
</body>
</html>

